(function(e){function t(a){if(s[a])return s[a].exports;var n=s[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var s={};return t.m=e,t.c=s,t.d=function(e,s,a){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var s=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(s,'a',s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=5)})([function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var s='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},a={upgradeDom:function(){},upgradeElement:function(){},upgradeElements:function(){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(){},register:function(){},downgradeElements:function(){}};a=function(){function e(e,t){for(var s=0;s<_.length;s++)if(_[s].className===e)return'undefined'!=typeof t&&(_[s]=t),_[s];return!1}function t(e){var t=e.getAttribute('data-upgraded');return null===t?['']:t.split(',')}function a(e,s){var a=t(e);return-1!==a.indexOf(s)}function l(e,t,s){if('CustomEvent'in window&&'function'==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:t,cancelable:s});var a=document.createEvent('Events');return a.initEvent(e,t,s),a}function r(t,s){if('undefined'==typeof t&&'undefined'==typeof s)for(var a=0;a<_.length;a++)r(_[a].className,_[a].cssClass);else{var l=t;if('undefined'==typeof s){var d=e(l);d&&(s=d.cssClass)}for(var i=document.querySelectorAll('.'+s),c=0;c<i.length;c++)o(i[c],l)}}function o(r,o){if(!('object'===('undefined'==typeof r?'undefined':s(r))&&r instanceof Element))throw new Error('Invalid argument provided to upgrade MDL element.');var d=l('mdl-componentupgrading',!0,!0);if(r.dispatchEvent(d),!d.defaultPrevented){var p=t(r),u=[];if(!o){var C=r.classList;_.forEach(function(e){C.contains(e.cssClass)&&-1===u.indexOf(e)&&!a(r,e.className)&&u.push(e)})}else a(r,o)||u.push(e(o));for(var E,h=0,y=u.length;h<y;h++){if(E=u[h],E){p.push(E.className),r.setAttribute('data-upgraded',p.join(','));var n=new E.classConstructor(r);n[c]=E,i.push(n);for(var A=0,g=E.callbacks.length;A<g;A++)E.callbacks[A](r);E.widget&&(r[E.className]=n)}else throw new Error('Unable to find a registered component for the given class.');var m=l('mdl-componentupgraded',!0,!1);r.dispatchEvent(m)}}}function d(e){Array.isArray(e)||(e instanceof Element?e=[e]:e=Array.prototype.slice.call(e));for(var t,s=0,a=e.length;s<a;s++)t=e[s],t instanceof HTMLElement&&(o(t),0<t.children.length&&d(t.children))}function n(e){if(e){var t=i.indexOf(e);i.splice(t,1);var s=e.element_.getAttribute('data-upgraded').split(','),a=s.indexOf(e[c].classAsString);s.splice(a,1),e.element_.setAttribute('data-upgraded',s.join(','));var n=l('mdl-componentdowngraded',!0,!1);e.element_.dispatchEvent(n)}}var _=[],i=[],c='mdlComponentConfigInternal_';return{upgradeDom:r,upgradeElement:o,upgradeElements:d,upgradeAllRegistered:function(){for(var e=0;e<_.length;e++)r(_[e].className)},registerUpgradedCallback:function(t,s){var a=e(t);a&&a.callbacks.push(s)},register:function(t){var s='undefined'==typeof t.widget&&'undefined'==typeof t.widget,a=!0;s||(a=t.widget||t.widget);var n={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:a,callbacks:[]};if(_.forEach(function(e){if(e.cssClass===n.cssClass)throw new Error('The provided cssClass has already been registered: '+e.cssClass);if(e.className===n.className)throw new Error('The provided className has already been registered')}),t.constructor.prototype.hasOwnProperty(c))throw new Error('MDL component classes must not have '+c+' defined as a property.');var l=e(t.classAsString,n);l||_.push(n)},downgradeElements:function(e){var t=function(e){i.filter(function(t){return t.element_===e}).forEach(n)};if(e instanceof Array||e instanceof NodeList)for(var s=0;s<e.length;s++)t(e[s]);else if(e instanceof Node)t(e);else throw new Error('Invalid argument provided to downgrade MDL nodes.')}}}(),a.ComponentConfigPublic,a.ComponentConfig,a.Component,a.upgradeDom=a.upgradeDom,a.upgradeElement=a.upgradeElement,a.upgradeElements=a.upgradeElements,a.upgradeAllRegistered=a.upgradeAllRegistered,a.registerUpgradedCallback=a.registerUpgradedCallback,a.register=a.register,a.downgradeElements=a.downgradeElements,window.componentHandler=a,window.componentHandler=a,window.addEventListener('load',function(){'classList'in document.createElement('div')&&'querySelector'in document&&'addEventListener'in window&&Array.prototype.forEach?(document.documentElement.classList.add('mdl-js'),a.upgradeAllRegistered()):(a.upgradeElement=function(){},a.register=function(){})}),t.default=a},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){var s=document.createElement(e);if(t)for(var a=t.split(' '),n=0;n<a.length;n++)s.classList.add(a[n]);return s}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var s=!1;try{var a=Object.defineProperty({},'passive',{get:function(){s=!0}});window.addEventListener('testPassive',null,a),window.removeEventListener('testPassive',null,a)}catch(t){}t.default=s},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(){var e=function(e){this.element_=e,this.textElement_=this.element_.querySelector('.'+this.cssClasses_.MESSAGE);var t=this.element_.querySelectorAll('.'+this.cssClasses_.ACTION);if(this.actionElement_=t[0],this.secondaryActionElement_=t[1],!this.textElement_)throw new Error('There must be a message element for a snackbar.');if(!this.actionElement_)throw new Error('There must be an action element for a snackbar.');this.active=!1,this.actionHandler_=void 0,this.secondaryActionHandler=void 0,this.message_=void 0,this.actionText_=void 0,this.secondaryActionText_=void 0,this.queuedNotifications_=[],this.setActionHidden_(this.actionElement_,!0),this.secondaryActionElement_&&this.setActionHidden_(this.secondaryActionElement_,!0)};window.MaterialSnackbar=e,e.prototype.Constant_={ANIMATION_LENGTH:250},e.prototype.cssClasses_={SNACKBAR:'mdl-snackbar',MESSAGE:'mdl-snackbar__text',ACTION:'mdl-snackbar__action',ACTIVE:'mdl-snackbar--active'},e.prototype.displaySnackbar_=function(){this.element_.setAttribute('aria-hidden','true'),this.actionHandler_&&(this.actionElement_.textContent=this.actionText_,this.actionElement_.addEventListener('click',function(){this.actionHandler_(),clearTimeout(this.cleanupTimeout_),this.cleanup_()}.bind(this)),this.setActionHidden_(this.actionElement_,!1)),!this.secondaryActionText_&&this.secondaryActionElement_&&this.secondaryActionElement_.setAttribute('hidden','true'),this.secondaryActionHandler_&&(this.secondaryActionElement_.textContent=this.secondaryActionText_,this.secondaryActionElement_.addEventListener('click',function(){this.secondaryActionHandler_(),clearTimeout(this.cleanupTimeout_),this.cleanup_()}.bind(this)),this.setActionHidden_(this.secondaryActionElement_,!1)),this.textElement_.textContent=this.message_,this.element_.classList.add(this.cssClasses_.ACTIVE),this.element_.setAttribute('aria-hidden','false'),this.cleanupTimeout_=setTimeout(this.cleanup_.bind(this),this.timeout_)},e.prototype.showSnackbar=function(e){if(e===void 0)throw new Error('Please provide a data object with at least a message to display.');if(void 0===e.message)throw new Error('Please provide a message to be displayed.');if(e.actionHandler&&!e.actionText)throw new Error('Please provide action text with the handler.');this.active?this.queuedNotifications_.push(e):(this.active=!0,this.message_=e.message,this.timeout_=e.timeout?e.timeout:2750,e.actionHandler&&(this.actionHandler_=e.actionHandler),e.secondaryActionHandler&&(this.secondaryActionHandler_=e.secondaryActionHandler),e.actionText&&(this.actionText_=e.actionText),e.secondaryActionText&&(this.secondaryActionText_=e.secondaryActionText),this.displaySnackbar_())},e.prototype.showSnackbar=e.prototype.showSnackbar,e.prototype.checkQueue_=function(){0<this.queuedNotifications_.length&&this.showSnackbar(this.queuedNotifications_.shift())},e.prototype.cleanup_=function(){this.element_.classList.remove(this.cssClasses_.ACTIVE),setTimeout(function(){this.element_.setAttribute('aria-hidden','true'),this.textElement_.textContent='',!!this.actionElement_.getAttribute('aria-hidden')||(this.setActionHidden_(this.actionElement_,!0),this.actionElement_.textContent='',this.actionElement_.removeEventListener('click',this.actionHandler_)),this.secondaryActionElement_&&!!!this.secondaryActionElement_.getAttribute('aria-hidden')&&(this.setActionHidden_(this.secondaryActionElement_,!0),this.secondaryActionElement_.textContent='',this.secondaryActionElement_.removeEventListener('click',this.secondaryActionHandler_)),this.actionHandler_=void 0,this.secondaryActionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.secondaryActionText_=void 0,this.active=!1,this.checkQueue_()}.bind(this),this.Constant_.ANIMATION_LENGTH)},e.prototype.setActionHidden_=function(e,t){t?e.setAttribute('aria-hidden','true'):e.removeAttribute('aria-hidden')},componentHandler.register({constructor:e,classAsString:'MaterialSnackbar',cssClass:'mdl-js-snackbar',widget:!0})}(),t.default=MaterialSnackbar},function(e,t,s){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var n=s(3),l=a(n),r=s(0),o=a(r),d=s(1),i=a(d),_='snackbar',c=document.getElementById(_)||function(){var e=(0,i.default)('div','mdl-js-snackbar mdl-snackbar');e.id=_,document.body.appendChild(e);var t=(0,i.default)('div','mdl-snackbar__text');e.appendChild(t);var s=(0,i.default)('div','mdl-snackbar__actions');e.appendChild(s);var a=(0,i.default)('button','mdl-snackbar__action');s.appendChild(a);var n=(0,i.default)('button','mdl-snackbar__action');return s.appendChild(n),e}();o.default.upgradeElements(c);var p=c.MaterialSnackbar;t.default=p},function(e,t,s){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}var n=s(0),l=a(n),r=s(6),o=a(r),d=s(7),i=a(d),_=s(8),c=a(_),p=s(9),u=a(p),m=s(3),C=a(m),E=s(10),h=a(E),y=s(11),A=a(y);new A.default(document.getElementById('latest-jokes'))},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(){var e=function(e){this.element_=e,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:'mdl-js-ripple-effect',RIPPLE_CONTAINER:'mdl-button__ripple-container',RIPPLE:'mdl-ripple'},e.prototype.blurHandler_=function(e){e&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement('span');e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement('span'),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener('mouseup',this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener('mouseup',this.boundButtonBlurHandler),this.element_.addEventListener('mouseleave',this.boundButtonBlurHandler)}},componentHandler.register({constructor:e,classAsString:'MaterialButton',cssClass:'mdl-js-button',widget:!0})}(),t.default=MaterialButton},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(){var e=function(e){this.element_=e,this.init()};window.MaterialIconToggle=e,e.prototype.Constant_={TINY_TIMEOUT:1e-3},e.prototype.CssClasses_={INPUT:'mdl-icon-toggle__input',JS_RIPPLE_EFFECT:'mdl-js-ripple-effect',RIPPLE_IGNORE_EVENTS:'mdl-js-ripple-effect--ignore-events',RIPPLE_CONTAINER:'mdl-icon-toggle__ripple-container',RIPPLE_CENTER:'mdl-ripple--center',RIPPLE:'mdl-ripple',IS_FOCUSED:'is-focused',IS_DISABLED:'is-disabled',IS_CHECKED:'is-checked'},e.prototype.onChange_=function(){this.updateClasses_()},e.prototype.onFocus_=function(){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onMouseUp_=function(){this.blur_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkToggleState()},e.prototype.blur_=function(){window.setTimeout(function(){this.inputElement_.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},e.prototype.checkToggleState=function(){this.inputElement_.checked?this.element_.classList.add(this.CssClasses_.IS_CHECKED):this.element_.classList.remove(this.CssClasses_.IS_CHECKED)},e.prototype.checkToggleState=e.prototype.checkToggleState,e.prototype.checkDisabled=function(){this.inputElement_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.disable=function(){this.inputElement_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.inputElement_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.check=function(){this.inputElement_.checked=!0,this.updateClasses_()},e.prototype.check=e.prototype.check,e.prototype.uncheck=function(){this.inputElement_.checked=!1,this.updateClasses_()},e.prototype.uncheck=e.prototype.uncheck,e.prototype.init=function(){if(this.element_){if(this.inputElement_=this.element_.querySelector('.'+this.CssClasses_.INPUT),this.element_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)){this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS),this.rippleContainerElement_=document.createElement('span'),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleContainerElement_.classList.add(this.CssClasses_.JS_RIPPLE_EFFECT),this.rippleContainerElement_.classList.add(this.CssClasses_.RIPPLE_CENTER),this.boundRippleMouseUp=this.onMouseUp_.bind(this),this.rippleContainerElement_.addEventListener('mouseup',this.boundRippleMouseUp);var e=document.createElement('span');e.classList.add(this.CssClasses_.RIPPLE),this.rippleContainerElement_.appendChild(e),this.element_.appendChild(this.rippleContainerElement_)}this.boundInputOnChange=this.onChange_.bind(this),this.boundInputOnFocus=this.onFocus_.bind(this),this.boundInputOnBlur=this.onBlur_.bind(this),this.boundElementOnMouseUp=this.onMouseUp_.bind(this),this.inputElement_.addEventListener('change',this.boundInputOnChange),this.inputElement_.addEventListener('focus',this.boundInputOnFocus),this.inputElement_.addEventListener('blur',this.boundInputOnBlur),this.element_.addEventListener('mouseup',this.boundElementOnMouseUp),this.updateClasses_(),this.element_.classList.add('is-upgraded')}},componentHandler.register({constructor:e,classAsString:'MaterialIconToggle',cssClass:'mdl-js-icon-toggle',widget:!0})}(),t.default=MaterialIconToggle},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(){function e(t,e,s,a){function n(){var n=t.href.split('#')[1],l=a.content_.querySelector('#'+n);a.resetTabState_(e),a.resetPanelState_(s),t.classList.add(a.CssClasses_.IS_ACTIVE),l.classList.add(a.CssClasses_.IS_ACTIVE)}if(a.tabBar_.classList.contains(a.CssClasses_.JS_RIPPLE_EFFECT)){var l=document.createElement('span');l.classList.add(a.CssClasses_.RIPPLE_CONTAINER),l.classList.add(a.CssClasses_.JS_RIPPLE_EFFECT);var r=document.createElement('span');r.classList.add(a.CssClasses_.RIPPLE),l.appendChild(r),t.appendChild(l)}a.tabBar_.classList.contains(a.CssClasses_.TAB_MANUAL_SWITCH)||t.addEventListener('click',function(s){'#'===t.getAttribute('href').charAt(0)&&(s.preventDefault(),n())}),t.show=n}var t=function(e){this.element_=e,this.init()};window.MaterialLayout=t,t.prototype.Constant_={MAX_WIDTH:'(max-width: 1024px)',TAB_SCROLL_PIXELS:100,RESIZE_TIMEOUT:100,MENU_ICON:'&#xE5D2;',CHEVRON_LEFT:'chevron_left',CHEVRON_RIGHT:'chevron_right'},t.prototype.Keycodes_={ENTER:13,ESCAPE:27,SPACE:32},t.prototype.Mode_={STANDARD:0,SEAMED:1,WATERFALL:2,SCROLL:3},t.prototype.CssClasses_={CONTAINER:'mdl-layout__container',HEADER:'mdl-layout__header',DRAWER:'mdl-layout__drawer',CONTENT:'mdl-layout__content',DRAWER_BTN:'mdl-layout__drawer-button',ICON:'material-icons',JS_RIPPLE_EFFECT:'mdl-js-ripple-effect',RIPPLE_CONTAINER:'mdl-layout__tab-ripple-container',RIPPLE:'mdl-ripple',RIPPLE_IGNORE_EVENTS:'mdl-js-ripple-effect--ignore-events',HEADER_SEAMED:'mdl-layout__header--seamed',HEADER_WATERFALL:'mdl-layout__header--waterfall',HEADER_SCROLL:'mdl-layout__header--scroll',FIXED_HEADER:'mdl-layout--fixed-header',OBFUSCATOR:'mdl-layout__obfuscator',TAB_BAR:'mdl-layout__tab-bar',TAB_CONTAINER:'mdl-layout__tab-bar-container',TAB:'mdl-layout__tab',TAB_BAR_BUTTON:'mdl-layout__tab-bar-button',TAB_BAR_LEFT_BUTTON:'mdl-layout__tab-bar-left-button',TAB_BAR_RIGHT_BUTTON:'mdl-layout__tab-bar-right-button',TAB_MANUAL_SWITCH:'mdl-layout__tab-manual-switch',PANEL:'mdl-layout__tab-panel',HAS_DRAWER:'has-drawer',HAS_TABS:'has-tabs',HAS_SCROLLING_HEADER:'has-scrolling-header',CASTING_SHADOW:'is-casting-shadow',IS_COMPACT:'is-compact',IS_SMALL_SCREEN:'is-small-screen',IS_DRAWER_OPEN:'is-visible',IS_ACTIVE:'is-active',IS_UPGRADED:'is-upgraded',IS_ANIMATING:'is-animating',ON_LARGE_SCREEN:'mdl-layout--large-screen-only',ON_SMALL_SCREEN:'mdl-layout--small-screen-only'},t.prototype.contentScrollHandler_=function(){if(!this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)){var e=!this.element_.classList.contains(this.CssClasses_.IS_SMALL_SCREEN)||this.element_.classList.contains(this.CssClasses_.FIXED_HEADER);0<this.content_.scrollTop&&!this.header_.classList.contains(this.CssClasses_.IS_COMPACT)?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.header_.classList.add(this.CssClasses_.IS_COMPACT),e&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING)):0>=this.content_.scrollTop&&this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.header_.classList.remove(this.CssClasses_.IS_COMPACT),e&&this.header_.classList.add(this.CssClasses_.IS_ANIMATING))}},t.prototype.keyboardEventHandler_=function(e){e.keyCode===this.Keycodes_.ESCAPE&&this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)&&this.toggleDrawer()},t.prototype.screenSizeHandler_=function(){this.screenSizeMediaQuery_.matches?this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN):(this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN),this.drawer_&&(this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN)))},t.prototype.drawerToggleHandler_=function(e){if(e&&'keydown'===e.type)if(e.keyCode===this.Keycodes_.SPACE||e.keyCode===this.Keycodes_.ENTER)e.preventDefault();else return;this.toggleDrawer()},t.prototype.headerTransitionEndHandler_=function(){this.header_.classList.remove(this.CssClasses_.IS_ANIMATING)},t.prototype.headerClickHandler_=function(){this.header_.classList.contains(this.CssClasses_.IS_COMPACT)&&(this.header_.classList.remove(this.CssClasses_.IS_COMPACT),this.header_.classList.add(this.CssClasses_.IS_ANIMATING))},t.prototype.resetTabState_=function(e){for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},t.prototype.resetPanelState_=function(e){for(var t=0;t<e.length;t++)e[t].classList.remove(this.CssClasses_.IS_ACTIVE)},t.prototype.toggleDrawer=function(){var e=this.element_.querySelector('.'+this.CssClasses_.DRAWER_BTN);this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN),this.drawer_.classList.contains(this.CssClasses_.IS_DRAWER_OPEN)?(this.drawer_.setAttribute('aria-hidden','false'),e.setAttribute('aria-expanded','true')):(this.drawer_.setAttribute('aria-hidden','true'),e.setAttribute('aria-expanded','false'))},t.prototype.toggleDrawer=t.prototype.toggleDrawer,t.prototype.init=function(){if(this.element_){var t=document.createElement('div');t.classList.add(this.CssClasses_.CONTAINER);var s=this.element_.querySelector(':focus');this.element_.parentElement.insertBefore(t,this.element_),this.element_.parentElement.removeChild(this.element_),t.appendChild(this.element_),s&&s.focus();for(var a,n=this.element_.childNodes,l=n.length,r=0;r<l;r++)a=n[r],a.classList&&a.classList.contains(this.CssClasses_.HEADER)&&(this.header_=a),a.classList&&a.classList.contains(this.CssClasses_.DRAWER)&&(this.drawer_=a),a.classList&&a.classList.contains(this.CssClasses_.CONTENT)&&(this.content_=a);window.addEventListener('pageshow',function(t){t.persisted&&(this.element_.style.overflowY='hidden',requestAnimationFrame(function(){this.element_.style.overflowY=''}.bind(this)))}.bind(this),!1),this.header_&&(this.tabBar_=this.header_.querySelector('.'+this.CssClasses_.TAB_BAR));var o=this.Mode_.STANDARD;if(this.header_&&(this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)?o=this.Mode_.SEAMED:this.header_.classList.contains(this.CssClasses_.HEADER_WATERFALL)?(o=this.Mode_.WATERFALL,this.header_.addEventListener('transitionend',this.headerTransitionEndHandler_.bind(this)),this.header_.addEventListener('click',this.headerClickHandler_.bind(this))):this.header_.classList.contains(this.CssClasses_.HEADER_SCROLL)&&(o=this.Mode_.SCROLL,t.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER)),o===this.Mode_.STANDARD?(this.header_.classList.add(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW)):o===this.Mode_.SEAMED||o===this.Mode_.SCROLL?(this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW),this.tabBar_&&this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW)):o===this.Mode_.WATERFALL&&(this.content_.addEventListener('scroll',this.contentScrollHandler_.bind(this)),this.contentScrollHandler_())),this.drawer_){var d=this.element_.querySelector('.'+this.CssClasses_.DRAWER_BTN);if(!d){d=document.createElement('div'),d.setAttribute('aria-expanded','false'),d.setAttribute('role','button'),d.setAttribute('tabindex','0'),d.classList.add(this.CssClasses_.DRAWER_BTN);var _=document.createElement('i');_.classList.add(this.CssClasses_.ICON),_.innerHTML=this.Constant_.MENU_ICON,d.appendChild(_)}this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)?d.classList.add(this.CssClasses_.ON_LARGE_SCREEN):this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)&&d.classList.add(this.CssClasses_.ON_SMALL_SCREEN),d.addEventListener('click',this.drawerToggleHandler_.bind(this)),d.addEventListener('keydown',this.drawerToggleHandler_.bind(this)),this.element_.classList.add(this.CssClasses_.HAS_DRAWER),this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)?this.header_.insertBefore(d,this.header_.firstChild):this.element_.insertBefore(d,this.content_);var c=document.createElement('div');c.classList.add(this.CssClasses_.OBFUSCATOR),this.element_.appendChild(c),c.addEventListener('click',this.drawerToggleHandler_.bind(this)),this.obfuscator_=c,this.drawer_.addEventListener('keydown',this.keyboardEventHandler_.bind(this)),this.drawer_.setAttribute('aria-hidden','true')}if(this.screenSizeMediaQuery_=window.matchMedia(this.Constant_.MAX_WIDTH),this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this)),this.screenSizeHandler_(),this.header_&&this.tabBar_){this.element_.classList.add(this.CssClasses_.HAS_TABS);var p=document.createElement('div');p.classList.add(this.CssClasses_.TAB_CONTAINER),this.header_.insertBefore(p,this.tabBar_),this.header_.removeChild(this.tabBar_);var u=document.createElement('div');u.classList.add(this.CssClasses_.TAB_BAR_BUTTON),u.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);var m=document.createElement('i');m.classList.add(this.CssClasses_.ICON),m.textContent=this.Constant_.CHEVRON_LEFT,u.appendChild(m),u.addEventListener('click',function(){this.tabBar_.scrollLeft-=this.Constant_.TAB_SCROLL_PIXELS}.bind(this));var C=document.createElement('div');C.classList.add(this.CssClasses_.TAB_BAR_BUTTON),C.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);var E=document.createElement('i');E.classList.add(this.CssClasses_.ICON),E.textContent=this.Constant_.CHEVRON_RIGHT,C.appendChild(E),C.addEventListener('click',function(){this.tabBar_.scrollLeft+=this.Constant_.TAB_SCROLL_PIXELS}.bind(this)),p.appendChild(u),p.appendChild(this.tabBar_),p.appendChild(C);var h=function(){0<this.tabBar_.scrollLeft?u.classList.add(this.CssClasses_.IS_ACTIVE):u.classList.remove(this.CssClasses_.IS_ACTIVE),this.tabBar_.scrollLeft<this.tabBar_.scrollWidth-this.tabBar_.offsetWidth?C.classList.add(this.CssClasses_.IS_ACTIVE):C.classList.remove(this.CssClasses_.IS_ACTIVE)}.bind(this);this.tabBar_.addEventListener('scroll',h),h();var y=function(){this.resizeTimeoutId_&&clearTimeout(this.resizeTimeoutId_),this.resizeTimeoutId_=setTimeout(function(){h(),this.resizeTimeoutId_=null}.bind(this),this.Constant_.RESIZE_TIMEOUT)}.bind(this);window.addEventListener('resize',y),this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)&&this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);for(var A=this.tabBar_.querySelectorAll('.'+this.CssClasses_.TAB),g=this.content_.querySelectorAll('.'+this.CssClasses_.PANEL),b=0;b<A.length;b++)new e(A[b],A,g,this)}this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},window.MaterialLayoutTab=e,componentHandler.register({constructor:t,classAsString:'MaterialLayout',cssClass:'mdl-js-layout'})}(),t.default=MaterialLayout},function(e,t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=s(2),n=function(e){return e&&e.__esModule?e:{default:e}}(a);(function(){var e=function(e){this.element_=e,this.init()};window.MaterialRipple=e,e.prototype.Constant_={INITIAL_SCALE:'scale(0.0001, 0.0001)',INITIAL_SIZE:'1px',INITIAL_OPACITY:'0.4',FINAL_OPACITY:'0',FINAL_SCALE:''},e.prototype.CssClasses_={RIPPLE_CENTER:'mdl-ripple--center',RIPPLE_EFFECT_IGNORE_EVENTS:'mdl-js-ripple-effect--ignore-events',RIPPLE:'mdl-ripple',IS_ANIMATING:'is-animating',IS_VISIBLE:'is-visible'},e.prototype.downHandler_=function(e){var t=Math.round;if(!this.rippleElement_.style.width&&!this.rippleElement_.style.height){var s=this.element_.getBoundingClientRect();this.boundHeight=s.height,this.boundWidth=s.width,this.rippleSize_=2*Math.sqrt(s.width*s.width+s.height*s.height)+2,this.rippleElement_.style.width=this.rippleSize_+'px',this.rippleElement_.style.height=this.rippleSize_+'px'}if(this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE),'mousedown'===e.type&&this.ignoringMouseDown_)this.ignoringMouseDown_=!1;else{'touchstart'===e.type&&(this.ignoringMouseDown_=!0);var a=this.getFrameCount();if(0<a)return;this.setFrameCount(1);var n,l,r=e.currentTarget.getBoundingClientRect();if(0===e.clientX&&0===e.clientY)n=t(r.width/2),l=t(r.height/2);else{var o=void 0===e.clientX?e.touches[0].clientX:e.clientX,d=void 0===e.clientY?e.touches[0].clientY:e.clientY;n=t(o-r.left),l=t(d-r.top)}this.setRippleXY(n,l),this.setRippleStyles(!0),window.requestAnimationFrame(this.animFrameHandler.bind(this))}},e.prototype.upHandler_=function(e){e&&2!==e.detail&&window.setTimeout(function(){this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE)}.bind(this),0)},e.prototype.init=function(){if(this.element_){var e=this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)||(this.rippleElement_=this.element_.querySelector('.'+this.CssClasses_.RIPPLE),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this.ignoringMouseDown_=!1,this.boundDownHandler=this.downHandler_.bind(this),this.element_.addEventListener('mousedown',this.boundDownHandler,!!n.default&&{passive:!0}),this.element_.addEventListener('touchstart',this.boundDownHandler,!!n.default&&{passive:!0}),this.boundUpHandler=this.upHandler_.bind(this),this.element_.addEventListener('mouseup',this.boundUpHandler),this.element_.addEventListener('mouseleave',this.boundUpHandler),this.element_.addEventListener('touchend',this.boundUpHandler),this.element_.addEventListener('blur',this.boundUpHandler),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(e){this.frameCount_=e},this.getRippleElement=function(){return this.rippleElement_},this.setRippleXY=function(e,t){this.x_=e,this.y_=t},this.setRippleStyles=function(t){if(null!==this.rippleElement_){var s,a,n,l='translate('+this.x_+'px, '+this.y_+'px)';t?(a=this.Constant_.INITIAL_SCALE,n=this.Constant_.INITIAL_SIZE):(a=this.Constant_.FINAL_SCALE,n=this.rippleSize_+'px',e&&(l='translate('+this.boundWidth/2+'px, '+this.boundHeight/2+'px)')),s='translate(-50%, -50%) '+l+a,this.rippleElement_.style.webkitTransform=s,this.rippleElement_.style.msTransform=s,this.rippleElement_.style.transform=s,t?this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING):this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING)}},this.animFrameHandler=function(){0<this.frameCount_--?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)})}},componentHandler.register({constructor:e,classAsString:'MaterialRipple',cssClass:'mdl-js-ripple-effect',widget:!1})})(),t.default=MaterialRipple},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var s=function(){Date.now||(Date.now=function(){return new Date().getTime()},Date.now=Date.now);for(var e,t=['webkit','moz'],s=0;s<t.length&&!window.requestAnimationFrame;++s)e=t[s],window.requestAnimationFrame=window[e+'RequestAnimationFrame'],window.cancelAnimationFrame=window[e+'CancelAnimationFrame']||window[e+'CancelRequestAnimationFrame'],window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame;if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var a=0;window.requestAnimationFrame=function(e){var t=Date.now(),s=Math.max(a+16,t);return setTimeout(function(){e(a=s)},s-t)},window.cancelAnimationFrame=clearTimeout,window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}}();t.default=s},function(e,t,s){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var s,a=0;a<t.length;a++)s=t[a],s.enumerable=s.enumerable||!1,s.configurable=!0,'value'in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),r=s(12),o=a(r),d=s(4),i=a(d),_=s(14),c=a(_),p=s(2),u=a(p),m=10,C=function(){function e(t){var s=this;n(this,e),this._container=t,this._jokeView=new o.default(t),this._reachedBottom=!1,this._isFetchingJokes=!1,this._cachedJokesNum=0,this._registerServiceWorker(),this._idb=this._openDatabase(),this._showCachedJokes().catch(function(){return s._fetchJokesFromNetwork()}),this._fetchJokesOnScrollBottom(),self.addEventListener('liketoggle',this._updateDatabaseLikes.bind(this))}return l(e,[{key:'_openDatabase',value:function(){return navigator.serviceWorker?c.default.open('jokr',1,function(e){e.createObjectStore('jokes',{keyPath:'id'});var t=e.transaction.objectStore('jokes');t.createIndex('dateTime','dateTime')}):Promise.resolve()}},{key:'_updateDatabaseLikes',value:function(e){this._idb.then(function(t){return t.transaction('jokes','readwrite').objectStore('jokes').put(e.detail.jokeData)})}},{key:'_registerServiceWorker',value:function(){var e=this;navigator.serviceWorker&&(navigator.serviceWorker.register('/Jokr/sw.js').then(function(t){return navigator.serviceWorker.controller?t.waiting?void t.waiting.postMessage({action:'skipWaiting'}):t.installing?void e._requestUpdateOnStateChange(t):void t.addEventListener('updatefound',function(){return e._requestUpdateOnStateChange(t)}):void 0}),navigator.serviceWorker.addEventListener('controllerchange',function(){return location.reload()}))}},{key:'_requestUpdateOnStateChange',value:function(e){e.installing.addEventListener('statechange',function(){var e=this;'installed'==this.state&&i.default.showSnackbar({message:'Update available!',timeout:8.64e7,actionHandler:function(){e.postMessage({action:'skipWaiting'})},actionText:'Update!',secondaryActionHandler:function(){},secondaryActionText:'No thanks!'})})}},{key:'_fetchJoke',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'random',s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'https://api.chucknorris.io/jokes/';return t&&(s+=t),new Promise(function(t){return fetch(s).then(function(e){return e.json()}).then(function(s){var a={id:s.id,text:s.value,likes:Math.floor(999*Math.random()),isLikedByUser:!1,dateTime:new Date().toISOString()};e._idb.then(function(e){return e.transaction('jokes','readwrite').objectStore('jokes').put(a)}),++e._cachedJokesNum<m?e._isFetchingJokes=!0:(e._isFetchingJokes=!1,e._cleanCache()),t(a)})})}},{key:'_fetchJokesFromNetwork',value:function(){for(var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,s=0;s<t;s++)this._fetchJoke().then(function(t){return e._jokeView.addJoke(t)})}},{key:'_fetchJokesOnScrollBottom',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,s=document.getElementsByClassName('mdl-layout__content')[0];s.addEventListener('scroll',function(){e._isFetchingJokes||(s.scrollTop+s.clientHeight>=s.scrollHeight-8?!e._reachedBottom&&(e._reachedBottom=!0,e._fetchJokesFromNetwork(t)):e._reachedBottom=!1)},!!u.default&&{passive:!0})}},{key:'_showCachedJokes',value:function(){var e=this;return this._idb.then(function(e){return e.transaction('jokes').objectStore('jokes').index('dateTime').getAll()}).then(function(t){if(!t.length)return Promise.reject();for(var s=0<t.length-m?t.length-m:0,a=s;a<t.length;a++)e._jokeView.addJoke(t[a]);return t.length<m?Promise.reject():Promise.resolve()})}},{key:'_cleanCache',value:function(){var e=this;this._idb.then(function(e){return e.transaction('jokes','readwrite').objectStore('jokes').index('dateTime').openCursor().then(function(e){return e?e.advance(m):void 0}).then(function e(t){if(t)return t.value.isLikedByUser||t.delete(),t.continue().then(e)})}).then(function(){return e._cachedJokesNum=0})}}]),e}();t.default=C},function(e,t,s){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var s,a=0;a<t.length;a++)s=t[a],s.enumerable=s.enumerable||!1,s.configurable=!0,'value'in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),r=s(13),o=a(r),d=s(1),i=a(d),_=s(0),c=a(_),p=function(){function e(t){n(this,e),this.element=t}return l(e,[{key:'addJoke',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{id:id,text:text,likes:likes,isLikedByUser:!1},t=new o.default(e),s=this.element,a=(0,i.default)('div','mdl-card mdl-card--joke mdl-shadow--2dp');s.appendChild(a);var n=(0,i.default)('div','mdl-card__supporting-text');n.innerHTML=t.text,a.appendChild(n);var l=(0,i.default)('div','mdl-card__actions');a.appendChild(l);var r=(0,i.default)('div','mdl-layout-spacer');l.appendChild(r);var d=document.createElement('div');d.innerHTML=t.likes,l.appendChild(d);var _=(0,i.default)('label','mdl-icon-toggle mdl-js-icon-toggle mdl-js-ripple-effect');_.setAttribute('for','joke-'+t.id),l.appendChild(_);var p=(0,i.default)('input','mdl-icon-toggle__input');p.type='checkbox',p.id='joke-'+t.id,p.checked=t.isLikedByUser,p.addEventListener('click',function(){t.toggleLike(),d.innerHTML=t.likes}),_.appendChild(p);var u=(0,i.default)('i','mdl-icon-toggle__label material-icons');u.innerHTML='tag_faces',_.appendChild(u);var m=(0,i.default)('button','mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect');m.addEventListener('click',t.copyToClipboard.bind(t)),l.appendChild(m);var C=(0,i.default)('i','material-icons');C.innerHTML='content_copy',m.appendChild(C),c.default.upgradeElements(_),c.default.upgradeElements(m)}},{key:'removeJoke',value:function(){this.element.removeChild(this.element.lastChild)}}]),e}();t.default=p},function(e,t,s){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var l=function(){function e(e,t){for(var s,a=0;a<t.length;a++)s=t[a],s.enumerable=s.enumerable||!1,s.configurable=!0,'value'in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),r=s(1),o=a(r),d=s(0),i=a(d),_=s(4),c=a(_),p='hidden-copy-input',u=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{id:id,text:text,likes:likes,isLikedByUser:!1};n(this,e),this.id=t.id,this.text=t.text,this.likes=t.likes,this.isLikedByUser=t.isLikedByUser,this._hiddenCopyInput=document.getElementById(p)}return l(e,[{key:'copyToClipboard',value:function(){this._hiddenCopyInput||this._createHiddenCopyInput(),this._hiddenCopyInput.value=this.text,this._hiddenCopyInput.select(),document.execCommand('copy'),this._hiddenCopyInput.blur(),c.default.showSnackbar({message:'Joke copied to clipboard.'})}},{key:'toggleLike',value:function(){this.isLikedByUser?this.likes--:this.likes++,this.isLikedByUser=!this.isLikedByUser,self.dispatchEvent(new CustomEvent('liketoggle',{detail:{jokeData:{id:this.id,text:this.text,likes:this.likes,isLikedByUser:this.isLikedByUser}}}))}},{key:'_createHiddenCopyInput',value:function(){this._hiddenCopyInput=document.createElement('input'),this._hiddenCopyInput.type='text',this._hiddenCopyInput.id=p,this._hiddenCopyInput.setAttribute('aria-hidden','true'),document.body.appendChild(this._hiddenCopyInput)}}]),e}();t.default=u},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function t(e){return Array.prototype.slice.call(e)}function s(e){return new Promise(function(t,s){e.onsuccess=function(){t(e.result)},e.onerror=function(){s(e.error)}})}function a(e,t,a){var n,l=new Promise(function(l,r){n=e[t].apply(e,a),s(n).then(l,r)});return l.request=n,l}function n(e,t,s){var n=a(e,t,s);return n.then(function(e){return e?new _(e,n.request):void 0})}function l(e,t,s){s.forEach(function(s){Object.defineProperty(e.prototype,s,{get:function(){return this[t][s]},set:function(e){this[t][s]=e}})})}function r(e,t,s,n){n.forEach(function(n){n in s.prototype&&(e.prototype[n]=function(){return a(this[t],n,arguments)})})}function o(e,t,s,a){a.forEach(function(a){a in s.prototype&&(e.prototype[a]=function(){return this[t][a].apply(this[t],arguments)})})}function d(e,t,s,a){a.forEach(function(a){a in s.prototype&&(e.prototype[a]=function(){return n(this[t],a,arguments)})})}function i(e){this._index=e}function _(e,t){this._cursor=e,this._request=t}function c(e){this._store=e}function p(e){this._tx=e,this.complete=new Promise(function(t,s){e.oncomplete=function(){t()},e.onerror=function(){s(e.error)},e.onabort=function(){s(e.error)}})}function u(e,t,s){this._db=e,this.oldVersion=t,this.transaction=new p(s)}function m(e){this._db=e}l(i,'_index',['name','keyPath','multiEntry','unique']),r(i,'_index',IDBIndex,['get','getKey','getAll','getAllKeys','count']),d(i,'_index',IDBIndex,['openCursor','openKeyCursor']),l(_,'_cursor',['direction','key','primaryKey','value']),r(_,'_cursor',IDBCursor,['update','delete']),['advance','continue','continuePrimaryKey'].forEach(function(e){e in IDBCursor.prototype&&(_.prototype[e]=function(){var t=this,a=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,a),s(t._request).then(function(e){return e?new _(e,t._request):void 0})})})}),c.prototype.createIndex=function(){return new i(this._store.createIndex.apply(this._store,arguments))},c.prototype.index=function(){return new i(this._store.index.apply(this._store,arguments))},l(c,'_store',['name','keyPath','indexNames','autoIncrement']),r(c,'_store',IDBObjectStore,['put','add','delete','clear','get','getAll','getKey','getAllKeys','count']),d(c,'_store',IDBObjectStore,['openCursor','openKeyCursor']),o(c,'_store',IDBObjectStore,['deleteIndex']),p.prototype.objectStore=function(){return new c(this._tx.objectStore.apply(this._tx,arguments))},l(p,'_tx',['objectStoreNames','mode']),o(p,'_tx',IDBTransaction,['abort']),u.prototype.createObjectStore=function(){return new c(this._db.createObjectStore.apply(this._db,arguments))},l(u,'_db',['name','version','objectStoreNames']),o(u,'_db',IDBDatabase,['deleteObjectStore','close']),m.prototype.transaction=function(){return new p(this._db.transaction.apply(this._db,arguments))},l(m,'_db',['name','version','objectStoreNames']),o(m,'_db',IDBDatabase,['close']),['openCursor','openKeyCursor'].forEach(function(e){[c,i].forEach(function(s){s.prototype[e.replace('open','iterate')]=function(){var s=t(arguments),a=s[s.length-1],n=this._store||this._index,l=n[e].apply(n,s.slice(0,-1));l.onsuccess=function(){a(l.result)}}})}),[i,c].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var s=this,a=[];return new Promise(function(n){s.iterateCursor(e,function(e){return e?(a.push(e.value),void 0!==t&&a.length==t?void n(a):void e.continue()):void n(a)})})})});var C={open:function(e,t,s){var n=a(indexedDB,'open',[e,t]),l=n.request;return l.onupgradeneeded=function(e){s&&s(new u(l.result,e.oldVersion,l.transaction))},n.then(function(e){return new m(e)})},delete:function(e){return a(indexedDB,'deleteDatabase',[e])}};e.exports=C,e.exports.default=e.exports}();t.default=s}]);